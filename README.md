
## Что реализовано
- REST-сервис на fastapi
- зависимости зафиксированы менеджером зависимостей poetry
- написаны тесты с использованием pytest
- реализована возможность собирать и запускать контейнер с сервисом в Docker
- Технология аутентификации JSON Web Token (JWT) (OAuth2 с паролем (и хэшированием), Bearer с токенами JWT)
- Middleware
## Реализация
Как базу данных использую json file
-  Что можно делать?
   1) Просмотреть список всех работников:
   - Metod: GET
   - Endpoint: `host:port/api/users`
   2) Получить токен:
   - Metod: POST
   - Endpoint: `host:port/api/token`
   3) Просмотр текущей зарплаты и даты следующего повышения авторизованного работника
   - Metod: GET
   - Endpoint: `host:port/api/salary`


#### Логины и пароли:
    - Kolya TheBestPassword
    - Jane 123
    - Olesya ilovecats

## Запуск

Скачать файлы из репозитория или клонировать репозиторий

### Запуск в контейнере Docker

*Для запуска должны быть установлены пакеты docker и docker-compose*

Команда запуска `docker-compose up --build`

*Если образ python:3.10-slim не скачивается автоматически, то использовать команду `docker pull python:3.10-slim`*

После запуска, API доступно по адресу `http://localhost:8000/docs`


#### Установка зависимостей с помощью Poetry

*Для запуска должен быть установлен пакет Poetry [инструкция](https://python-poetry.org/docs/)*

- Для установки зависимостей выполнить команду `poetry install`

- Для запуска виртуального окружения выполнить команду `poetry shell`

- Запустить main.py 

- После запуска, API доступно по адресу `http://localhost:8000/docs`


## Тестирование

Файл с тестами находятся в папке tests.

### Запуск в контейнере docker

*Для запуска должны быть установлены пакеты docker и docker-compose*

Выполнить команду `docker-compose -f docker-compose.tests.yml up --build`

### Локально

Зависимости должны быть установлены по инструкции из раздела **Локальный запуск**

Запустить тесты командой `pytest`
